---
title: "Estatística Básica"
author: "Estats Consultoria"
date: "`r format(Sys.time(), '%d %B, %Y')`"
output:
    html_document:
       highlight: textmate
       includes:
         in_header: "cabecalho.html"
       theme: flatly
       number_sections: yes
       toc: yes
       toc_float:
         collapsed: yes
         smooth_scroll: no
---

<style>
body{
text-align: justify;
}
</style>

# Por que Estatística?
A estatística tem como objetivo levantar dados e informações para se ter uma tomada de decisão mais assertiva. Por exemplo, em estudos clínicos, é possível determinar se determinado remédio realmente funciona, ou se foi apenas um efeito aleatório no corpo das pessoas, por meio de inferência, também é possível saber a probabilidade de uma lâmpada durar menos de 300 horas de uso, dada sua distribuição, além disso, é possível estimar a média da altura de uma população baseado em uma amostra.
No que tange a esse curso, serão abordados alguns assuntos que ajudarão a realizar uma **análise descritiva** mais assertiva, sem achismos. 

## Análise Descritiva
É a parte inicial de qualquer trabalho estatístico na qual observamos, entendemos e organizamos nossos dados. Nessa etapa, é possível determinar prováveis valores extremos no conjunto de dados, se é capaz de verificar quais são as ocorrências mais frequentes. Nessa parte da análise, são muito utilizados gráficos, tabelas e algumas medidas para resumir os dados e torna-los mais intelígiveis ao pesquisador.  
Nessa etapa, também é possível observar possíveis valores incorretos, por exemplo, em uma base de dados que se tem o registro da idade dos moradores de Maringá, é encontrado uma idade de -10. Obviamente, esse valor está errado, e esse pode ser encontrado, facilmente, via uma análise descritiva. Após identificados valores errados, é feita uma limpeza nos dados. 

# Variáveis
Primeiramente, é importante entendermos como são nossos dados e como classificá-los. Precisamos, por exemplo, verificar se esses são números, se são inteiros ou decimais, ou se são categorias, se seguem alguma ordem de importância, como escolaridade, ou não, como estado civil, se podem assumir apenas dois valores, por exemplo, ter diabetes ou não.

## Variáveis Qualitativas
De forma resumida, são aquelas que podem ser representadas por palavras. Não é viável, por exemplo, representar altura por meio de palavras (ninguém escreve fulano tem um metro e oitenta e três de altura, e sim, fulano tem 1.83m). No entanto, um adendo quanto à essas variáveis. Em alguns casos, pode-se atribuir valores para representar determinadas palavras. Um exemplo: no caso de vacinas, podemos ter uma situação tal que o indivíduo não solicitou, solicitou e recebeu, solicitou e não recebeu. Nesse caso, podemos dizer que não solicitou representa 1, solicitou e recebeu 2, e solicitou e não recebeu 3. Note que em nenhum momento a natureza da resposta foi mudada. Por isso, é interessante que sempre que for fazer essas alterações, se tenha documentado o que cada número representa.  
Esses números são importantes, em especial, para algoritmos de Aprendizado de Máquina. No entanto, não serão abordados nesse curso. Caso tenha mais interesse no assunto:
[Word Embedding](https://iaexpert.academy/2019/04/12/word-embedding-transformando-palavras-em-numeros/)  
<br>
Existem muitos tipos de gráficos para representar essas variáveis. No entanto, pretendemos focar mais em dois gráficos: **Gráfico de barras** e **Gráfico de setores (ou pizza)**.  
```{r grafico, include = FALSE}
library(data.table)
dados_iris <- iris
setnames(dados_iris, old = c('Sepal.Length', 'Sepal.Width', 'Petal.Length', 'Petal.Width', 'Species'), new = c('Comprimento_Sepala', 'Largura_Sepala', 'Comprimento_Petala', 'Largura_Sepala', 'Especie'))
dados_mtcars <- mtcars
dados_mtcars$qsec <- NULL
dados_mtcars$disp <- NULL
dados_mtcars$hp   <- NULL

setnames(dados_mtcars, old = c('mpg', 'cyl', 'drat', 'wt','vs', 'am', 'gear', 'carb'), new = c('Milhas_por_Galao', 'Numero_de_Cilindros', 'Razao_Eixo', 'Peso (1000 lbs)', 'Motor', 'Transmissao', 'Numero_eixos_dianteiros', 'Numero_carboradores'))
```

Iremos usar como exemplo uma base de dados, chamada iris, disponível no R. Os dados consistem no (INSIRA ALGUMA COISA)
```{r visualizacao do banco, echo = FALSE, message=FALSE, warning=FALSE}
library(knitr)
library(rmarkdown)
paged_table(dados_iris)

```



**Gráfico de barras**: São utilizados retângulos de forma com que a altura fique proporcional a quantidade total. Por exemplo, suponha que nosso interesse seja como se comporta o número de cilindros dos carros nessa categoria. 

NO SITE NAO VAI APARECER, MAS PLOTA ALGO AQUI EMBAIXO 


**Gráfico de Pizza**: É um círculo dividido em pedaços. Cada pedaço representa um valor numérico que tem tamanho proporcional ao seu valor.


No entanto, um adendo quanto à essas variáveis. Em alguns casos, pode-se atribuir valores para representar determinadas palavras. Um exemplo: no caso de vacinas, podemos ter uma situação tal que o indivíduo não solicitou, solicitou e recebeu, solicitou e não recebeu. Nesse caso, podemos dizer que não solicitou representa 1, solicitou e recebeu 2, e solicitou e não recebeu 3. Note que em nenhum momento a natureza da resposta foi mudada. Por isso, é interessante que sempre que for fazer essas alterações, se tenha documentado o que cada número representa.  
Esses números são importantes, em especial, para algoritmos de Aprendizado de Máquina. No entanto, não serão abordados nesse curso. Caso tenha mais interesse no assunto:
[Word Embedding](https://iaexpert.academy/2019/04/12/word-embedding-transformando-palavras-em-numeros/)

### Variáveis Qualitativas Ordinais  
As variáveis qualitativas ordinais são aquelas que possuem uma ordem em seus valores. Como já citado, escolaridade pode ser uma delas, pois um indivíduo começa no fundamental, vai para o médio, ensino superior, mestrado, doutorado. Não se é possível começar do doutorado e chegar no fundamental.

### Variáveis Qualitativas Nominais  
As variáveis qualitativas nominais são aquelas que não possuem ordenação nos seus valores. Exemplo, o sexo de um indivíduo. Não faz diferença ser masculino ou feminino, não possui uma ordem de importância.  

### Variáveis Qualitativas Dicotômicas
São aquelas que pode ter apenas dois valores. Exemplo: morto e vivo.

## Variáveis Quantitativas
As variáveis quantitativas são aquelas que representam valores exclusivamente numéricos. Altura, peso, quantidade de filhos, enfim, são infinitos os exemplos que podemos citar envolvendo variáveis quantitativas.

### Variáveis Quantitativas Discretas
Variáveis quantitativas discretas são aquelas que possuem apenas números inteiros, ou seja, que podem ser contadas. Quantidade de pessoas loiras em uma sala, por exemplo, é uma variável quantitativa discreta.

### Variáveis Quantitativas Contínuas
Variáveis quantitativas contínuas são aquelas que possuem números ''flutuantes''. Exemplo é altura, por exemplo, que é sempre representada por duas casas depois da vírgula, normalmente.

# Medidas de Tendência Central
Medidas de tendência central (ou medidas de centralidade) são medidas utilizadas para representar o conjunto de dados como um todo, resumindo de forma representativa tudo que temos. Possuímos três tipos: Média, Moda, Mediana.

## Média
A média é uma estatística que pode ser usado para ver como se comporta a variável de interesse ao longo de um número de pessoas, ao longo de um período de tempo, enfim. Ela costuma ser a mais utilizada, pois possui boas propriedades, principalmente quando os seus dados seguem uma curva gaussiana. No entanto, existem casos em que não se é bom utilizá-la. 

### Casos particulares em que a média não é uma boa medida
Que a média é a mais utilizada, já sabemos. No entanto, em casos onde há alta variabilidade dos dados (os dados se distanciam um do outro de forma muito acentuada), ela pode não ser uma boa medida, pois valores extremos tendem a distorcer a média. 

Exemplo: suponhamos que tenhamos o seguintes dados para idade de pessoas de um curso de estatística:

```{r}

alunos <- c(18, 18, 19, 20, 23, 20, 21, 22)
mean(alunos)

```
A média da idade dos alunos deu 20.125. Agora, suponhamos que, juntando com essas idades, tenhamos outros dois novos alunos com idades de 50 e 60 anos 

```{r}
alunos <- c(18, 18, 19, 20, 23, 20, 21, 22, 50, 60)
mean(alunos)
```

Percebamos que a média já foi muito atingida por isso. Uma boa maneira de quantificar se devemos usar ou não a média é pelo coeficiente de variação (será abordado).


## Moda
A moda é o valor que mais se repete em um conjunto de dados. Exemplo: número de filhos dos empregados de uma empresa

```{r}

numero_de_filhos <- c(1, 1, 1, 2, 2, 3, 4, 1, 1, 4, 2)

moda <- function(a) {
   uniqv <- unique(a)
   uniqv[which.max(tabulate(match(a, uniqv)))]
}

moda(numero_de_filhos)

```


### Caso Multimodal
Qui velit esse ad incidunt beatae qui deleniti nulla eos aliquid sunt! Non voluptatum totam vel tempore dolorem et dolorem alias sed nesciunt quia. Aut dignissimos quaerat sit velit ipsum aut Quis delectus sed galisum cumque ut perspiciatis pariatur. Eum laudantium suscipit vel Quis obcaecati sed mollitia dolor eos voluptatem animi ut quaerat quos ut sunt enim

## Mediana
A mediana vai servir para vermos em que ponto do conjunto de dados, está 50% das informações. 

```{r}
num_alguma_coisa <- c(5, 6, 7, 8, 9, 10, 11, 12)
median(num_alguma_coisa)


```

NA UNHA, para calculá-la, é necessário determinar se a quantidade de dados é par ou ímpar.   
**Caso par: ** Se o número de observações for par, calculamos a média dos valores centrais
``` {r}

observacoes <- c(1, 2, 3, 4, 5, 6, 8, 9)

mediana <- (4 + 5)/2
print(mediana)


```

**Caso ímpar: ** Se o número de observações for ímpar, pegamos apenas o valor central principal

``` {r}
observacoes <- c(1, 3, 3, 6, 7, 8, 9)

mediana <- 6
print(mediana)


```

### Limitações da Mediana
É mais dificil de ser identificada quando se tem um grande conjunto de dados.

# Medidas de Dispersão
São usadas para determinar o grau de variabilidade dos dados. Por exemplo, se os dados se distanciam muito um do outro, é notável que irá haver uma alta variabilidade. 

## Amplitude
É o maior valor observado subtraído do menor.

## Variância
Sit enim ipsa et voluptatem dolore aut dolore esse aut quidem nihil in dolore perferendis vel possimus voluptates est quas enim. Eum consequatur rerum eos facere quis est distinctio sapiente non quibusdam debitis qui accusamus dicta.


### Variância Populacional
Sit enim ipsa et voluptatem dolore aut dolore esse aut quidem nihil in dolore perferendis vel possimus voluptates est quas enim. Eum consequatur rerum eos facere quis est distinctio sapiente non quibusdam debitis qui accusamus dicta.
$$\sigma^2 = \frac{\sum_{i=1}^{n}(x_i - \mu)^2} {n}$$

### Variância Amostral
Sit enim ipsa et voluptatem dolore aut dolore esse aut quidem nihil in dolore perferendis vel possimus voluptates est quas enim. Eum consequatur rerum eos facere quis est distinctio sapiente non quibusdam debitis qui accusamus dicta.
$$s^2 = \frac{\sum_{i=1}^{n}(x_i - \bar{x})^2} {n-1}$$

## Desvio Padrão
Sed magni dicta qui incidunt omnis vel ratione perferendis sit ipsa error ut aliquid dolor non voluptate sequi. Qui odit aliquam a fuga repudiandae cum laborum explicabo. Qui voluptatem earum ad quibusdam commodi quo illo numquam quo quia nisi qui numquam voluptatum.

## Coeficiente de Variação
Ut quasi ipsum in quibusdam odit ut dolor placeat et accusamus Quis et fugit architecto ut magnam fugit ex quas numquam. Est culpa laboriosam et magnam cupiditate sit eius sint rem dolore veritatis.

# Referências
Bussab, WO; Morettin, PA. Estatística Básica. São Paulo: Editora Saraiva, 2010 (6ª Edição).
